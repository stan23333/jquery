<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>瀑布流布局</title>
	<style>
		body{
			margin:0;
			padding: 0;
		}
		.container{
			width:1000px;
			margin:10px auto;
			/*border:1px solid red;*/
			position: relative;
		}
		img{
			width: 100%;
		}
	</style>
	<script src="libs/jquery-1.12.4.js"></script>
</head>
<body>
	<div class="container">
		<!-- div.item*100>img[src=images/$.jpg]+p{图片描述信息。。。} -->
		<div class="item">
			<img src="images/1.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/2.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/3.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/4.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/5.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/6.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/7.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/8.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/9.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/10.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/11.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/12.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/13.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/14.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/15.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/16.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/17.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/18.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/19.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/20.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/21.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/22.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/23.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/24.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/25.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/26.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/27.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/28.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/29.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/30.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/31.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/32.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/33.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/34.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/35.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/36.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/37.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/38.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/39.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/40.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/41.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/42.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/43.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/44.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/45.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/46.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/47.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/48.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/49.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/50.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/51.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/52.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/53.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/54.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/55.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/56.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/57.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/58.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/59.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/60.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/61.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/62.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/63.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/64.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/65.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/66.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/67.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/68.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/69.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/70.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/71.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/72.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/73.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/74.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/75.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/76.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/77.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/78.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/79.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/80.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/81.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/82.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/83.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/84.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/85.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/86.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/87.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/88.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/89.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/90.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/91.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/92.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/93.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/94.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/95.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/96.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/97.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/98.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/99.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
		<div class="item">
			<img src="images/100.jpg" alt="">
			<p>图片描述信息。。。</p>
		</div>
	</div>
	<div class="footer">页面底部版块</div>
	<script>
		$.fn.waterfall=function(){
			var con=$(this);
			var cWidth=con.width();
			var item=con.children();
			var h=[];
			//假设有5列
			var width=cWidth/5;
			item.each(function(index,elem){
				console.log(index,elem);
				$(elem).css({
					width:width,
					position:'absolute'
				});
				if(index<5)   //单独处理第一行5张图
				{
					$(elem).css({
						left:width*index,
						top:0
					});
					h.push($(elem).height());
				}
				else  //其它行的图片
				{
					var min_index=0;
					var min_val=h[0];
					for(var i=1;i<h.length;i++)
					{
						if(h[i]<min_val){
							min_index=i;
							min_val=h[i];
						}
					}
					$(elem).css({
						left:width*min_index,
						top:min_val
					});
					h[min_index]+=$(elem).height();
				}
			});
			//让div.container重新设置高度
			var max_index=0;
			var max_val=h[0];
			for(var i=1;i<h.length;i++)
			{
				if(h[i]>max_val){
					max_index=i;
					max_val=h[i];
				}
			}
			con.height(max_val);
		}
		$(".container").waterfall();
	</script>
</body>
</html>